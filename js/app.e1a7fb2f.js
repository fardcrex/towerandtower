(function(t){function e(e){for(var n,o,s=e[0],c=e[1],u=e[2],l=0,d=[];l<s.length;l++)o=s[l],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&d.push(r[o][0]),r[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);p&&p(e);while(d.length)d.shift()();return i.push.apply(i,u||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],n=!0,o=1;o<a.length;o++){var s=a[o];0!==r[s]&&(n=!1)}n&&(i.splice(e--,1),t=c(c.s=a[0]))}return t}var n={},o={app:0},r={app:0},i=[];function s(t){return c.p+"js/"+({about:"about"}[t]||t)+"."+{about:"fade8d3c"}[t]+".js"}function c(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.e=function(t){var e=[],a={about:1};o[t]?e.push(o[t]):0!==o[t]&&a[t]&&e.push(o[t]=new Promise((function(e,a){for(var n="css/"+({about:"about"}[t]||t)+"."+{about:"fe0434c0"}[t]+".css",r=c.p+n,i=document.getElementsByTagName("link"),s=0;s<i.length;s++){var u=i[s],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===n||l===r))return e()}var d=document.getElementsByTagName("style");for(s=0;s<d.length;s++){u=d[s],l=u.getAttribute("data-href");if(l===n||l===r)return e()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=e,p.onerror=function(e){var n=e&&e.target&&e.target.src||r,i=new Error("Loading CSS chunk "+t+" failed.\n("+n+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=n,delete o[t],p.parentNode.removeChild(p),a(i)},p.href=r;var m=document.getElementsByTagName("head")[0];m.appendChild(p)})).then((function(){o[t]=0})));var n=r[t];if(0!==n)if(n)e.push(n[2]);else{var i=new Promise((function(e,a){n=r[t]=[e,a]}));e.push(n[2]=i);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=s(t);var d=new Error;u=function(e){l.onerror=l.onload=null,clearTimeout(p);var a=r[t];if(0!==a){if(a){var n=e&&("load"===e.type?"missing":e.type),o=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+n+": "+o+")",d.name="ChunkLoadError",d.type=n,d.request=o,a[1](d)}r[t]=void 0}};var p=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(e)},c.m=t,c.c=n,c.d=function(t,e,a){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)c.d(a,n,function(e){return t[e]}.bind(null,n));return a},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/towerandtower/",c.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=e,u=u.slice();for(var d=0;d<u.length;d++)e(u[d]);var p=l;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"002b":function(t,e,a){"use strict";var n=a("09c3"),o=a.n(n);o.a},"0154":function(t,e,a){"use strict";var n=a("8ece"),o=a.n(n);o.a},"059f":function(t,e,a){"use strict";var n=a("5985"),o=a.n(n);o.a},"0672":function(t,e,a){t.exports=a.p+"img/nigga-men.42ed9208.png"},"09c3":function(t,e,a){},1771:function(t,e,a){var n={"./LunchTime.jpg":"fe7a","./Retorno_Work.png":"c52b","./carta.png":"5524","./espalda.png":"ca59","./espalda.svg":"545f","./gps.png":"4d66","./ingreso_marcatition.jpg":"7ac4","./logo.png":"cf05","./logos/comprobacion_temperatura.jpg":"8b4b","./logos/facebook.jpg":"83bf","./logos/gil-men.png":"deeb","./logos/google.jpg":"41f3","./logos/men.png":"d663","./logos/message.png":"573e","./logos/nigga-men.png":"0672","./logos/nigga-women.png":"cee8","./logos/old-men.png":"6505","./logos/reportes-default.jpg":"5192","./logos/waiting.jpg":"5911","./logos/white-women.png":"b9a7","./logos/woman.png":"9d2b","./proximo.png":"85cb","./salida_marcation.jpg":"c998","./styles/base.scss":"b19f","./styles/global.scss":"c860"};function o(t){var e=r(t);return a(e)}function r(t){if(!a.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}o.keys=function(){return Object.keys(n)},o.resolve=r,t.exports=o,o.id="1771"},"1a1b":function(t,e,a){"use strict";var n=a("8258"),o=a.n(n);o.a},"41f3":function(t,e,a){t.exports=a.p+"img/google.d0991539.jpg"},"4d66":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAA7AAAAOwBeShxvQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAASNSURBVFiFrZdrbBRlFIbf881td3a3LXS3VKLSphdaoSZCGiDGFIlGo5bSIEFCYkyIVGvVYAKRRiOJQhBqiGkX+0MqkqCosTHx0qSprYbEAArKRUraalIsEreXvQDLdndmPn80i2V3Zme7+P7anHPmfZ85k3wzS5iDVrdFvDwuNBLxegCV4LibgpMqJ2gksAkS5L7i4rw3P2lxjmbrSdkMPfjuuEfSHTsA2gbAdZtBaBzgM07kLjCYItM8F/1YmOfc2PksBe4YYM3boTKDiV+DUG1qEBoHAHBXASBJt+qqTNPFecJTXVsdfZn8WabmZC2WrAx822MVPpNMaeEAEI1zZTSo9T7XeaM+U4blBq49BJ+ewEmdxHt2r/hCPFP0qNnYDcHQFJ2JopWPQ6bEQjVR1dVc8KdZ33IDRhxtAEoFrok7T21E7T/fpY6MVhazQ263FHDIlLDyicW5FEzIPVZ90w1MrUIN4/htNqDGJH1P7THjzILHLzMytva/7h4AEU/2N3dee3nqOtt/M86VtBACSufzNV1NnoHUnukGBGBLak80EkLrqWcuOOOxZf07Pf2zwwHg6Aue9kUuKlMViqb6GaThnOfYbrMsUwDO0WBS1hSe2NyzqzBidg0AdL6oXvG5eePstXJo+KN0n3FRPFubFUBkObwASkxm+zwnMGgVntTHTe7efCeuAgBnGkbK9mFMj7CoBrH6m1eW2gJoMu5KrRGjmKNhQa9deFKKxE7P3Hkbruj/LczgWpUtgAh4bguXmaG2ljqU9UVpz9ZKXNTDw+V7tTE9dFvd4EKhSV6apm6FKwzqayVMrHQB4GXZApwofmPx31E9zVvmlPaOSH8EcVwFwEkiTd1eArE6efRTIx9YbXngJLXk8w1yIKY/YNYTmXDeFmD+aYTJwS6p20uFmTu/pXIsnHjVDiAi+XpjBoTUulvC9Nn6A1dsAQDAvaeiV6xypR9SRHv58NItpskcrOSrl7rHbrI6s3a+gGGzuulJyEdqlsPAL6ZBAMBpAMz4CMR+DQSC5asmGtYG41gfjCPP6pJqD39+sN7/YVYAAMCHak4DWGYJAUAHYdtIUaw9VOXINJcv8Wh4g99l1rN+HXPaYRd+IFQdtQsHAJ9M+616lgC0+Nz3ANJegQBgcOCD8GKcmS5U7cK9MsZHGjp2zRlghoKaAEzOLukgtEeq8VPMZ5cNmYEvkIUnM81kBKCKc2MA34qZrz7oIHSEq3Ay5rUNB4B7Fb7397Xv/5wzAABQ5YVuAO8YHPCHqxJZh6vGwEijv9VuzhYAAFBx/q33QvcdORHzSvbDQJHCRy83HHwkm9msAIjAL0adTQCO283Ok3g4z8nuB8H43wAA4PDDh2OSTI0AhqxmVBEJXx6tHHmi3fKjJWcAADiywj9pGFgH4HpqT2Tgi5x83dBjHZfm4jknAAD4rO7gIIi3pNYXqfqhwXq/6bmRSVn9NTPTpuPNPwCo+/QvhnkyIsGnO/Jz8ZnzBpIyGPYkf3sdRluuPjkD5CvaAAANAFSudOXqc0fadLy52/dlS9pHxlz0LwS5fA0vonYYAAAAAElFTkSuQmCC"},"4ffa":function(t,e,a){"use strict";var n=a("ac92"),o=a.n(n);o.a},5192:function(t,e,a){t.exports=a.p+"img/reportes-default.df49a15c.jpg"},"545f":function(t,e,a){t.exports=a.p+"img/espalda.5e4e3755.svg"},5524:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAsQAAALEBxi1JjQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAMiSURBVEiJ7ZVPaB1VFMZ/98y9M1NbqIuCCH1JjYogNSIUQx+NYlstFgqCkIXUasE2i4JdqLio2iCIdZGFtiq6icaFUBQLQVK1mGRTs2gpMdCIpdGSRlqohoL1zZ8797p4817z50lTuxO/zT33nHvOme87c2fgf9wAipEz64ije4g0xEHdm2goALvYprXfAilgg3k2UAvOaXIOInkCXEX5VehAY1zZXzIi57BkgCMWyAAEYle3ldSPOgWqzHMCsJrYxZqsAPwEj3R+xPhUP7EyGIFQQe4v4/zvFPIDW9dOLFsX7xWHrvSC6lJ8OT5AKJbItBMFL/Fo5+S/0bqJw5ceoJB+MnWBQmlNZkGCtwgkwNPP2MQFVq56gw13X72pwoOXVlL4V8jVw+SyH5/XEHNQSG19eNs3nGfbQ0+RcIJr14Y5eXYX3qtlFf9idgdhcQLNNHvv2M6+NVPEgHYIWQFJcv3wtgeHMH9uIc87GJ/6htM/df5j4e9n72P44teEbEXM4zx75+CCuAFNlkMRLUysVmtAH6M/7gY9zJmfj1IEfU3ZTp1fTWb6yF0PoX+NJ9sGljSPgdwjpIsYNDB0qo202IO166nZMaQ4zuT0Tiand6KD4wSMIW49Wu3hu9/aWjI0lBItxsBITFYMYoteujvnqN5/jGTFZvKiA/Ed/BVspqvtGN3tcxh6CYtBRn6JlzAwDk2SU7+S8yDqfdL8A57uuv7KVis14M0lD1OtTHJy5l2s/hjYtaBB6kqJ0nkJh7/dT2ov88ymoy1pt0K18hWaWUZnXlzgb0rUmMGhoU0k2RPc/sfryy7ewMa1BzB+C6MXH2syMDSGDBz4vEIt70f55+jpaTGYG0Aph/PPE7q3Gfv1LuIEjEfIcrA+puY/JbEv8PKOKzddvIHu9jmU242RTwjktnkSpUfI7Ie803Nr3yGAjeumCPwRtLyHBk1qASooOtj32atEGkKB0MAKDVrqa2hoxqJyH2qIpFxNPYbU/wVZUcHLjCazfTi5Fy9ADuLAx6XtgQBqgAMo91KaeJCgjAHo+nBDB06fRttzt6zIfx9/A8M8PH1EpnQUAAAAAElFTkSuQmCC"},"56d7":function(t,e,a){"use strict";a.r(e);a("4160"),a("d3b7"),a("ac1f"),a("5319"),a("159b"),a("ddb0"),a("96cf");var n=a("1da1"),o=(a("e260"),a("e6cf"),a("cca6"),a("a79d"),a("2b0e")),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},i=[],s=(a("5c0b"),a("2877")),c={},u=Object(s["a"])(c,r,i,!1,null,null,null),l=u.exports,d=(a("45fc"),a("8c4f")),p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container",class:{"is-black":t.isQrActive}},[a("AppNav",{attrs:{titlePage:t.title,isLoad:t.isLoad}}),a("div",{staticClass:"menu"},[a("MenuMarcacion",{on:{sendMensaje:t.sendMensaje,isQrActive:t.isQrActiveChange,loaded:t.loaded}}),a("p",[t._v(t._s(t.mensaje))])],1),t.isQrActive?t._e():a("AppNavBottom")],1)},m=[],f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:{isBack:t.isBack},attrs:{id:"nav"}},[t.isBack?n("img",{staticClass:"img",attrs:{src:a("ca59"),alt:"flecha"},on:{click:t.back}}):t._e(),n("h1",{staticClass:"title text-xl ml-2"},[t._v(t._s(t.titlePage))]),t.isLoad?n("div",{staticClass:"preloader"}):t._e()])},g=[],A={props:{titlePage:{type:String},isLoad:{type:Boolean,default:!1},isBack:{type:Boolean,default:!1}},methods:{back:function(){this.$emit("onBack")}}},h=A,v=(a("1a1b"),Object(s["a"])(h,f,g,!1,null,"29700127",null)),b=v.exports,w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.isQrActive?a("QrcodeStream",{staticClass:"menu bg-black",on:{decode:t.onDecode,init:t.onInit}}):a("div",{staticClass:"grid grid-cols-2 sm:grid-cols-4 mx-3 py-5 gap-5"},t._l(t.menus,(function(e,n){return a("BaseCardMarcar",{key:n,attrs:{menu:e},on:{openToCamera:t.openToCamera}})})),1)},C=[],E=(a("b0c0"),a("bf19"),a("5530")),S=a("2f62"),k=a("6d12"),_=a("bc3a"),x=a.n(_),j={produccion:"https://asistenciasendnotification.herokuapp.com"},N=x.a.create({baseURL:j.produccion,withCredentials:!1,headers:{Accept:"application/json","Content-Type":"application/json"}}),R={registrarMarcacion:function(t){return console.log(t),x.a.post("".concat(j.produccion,"/registro/registroMarcado"),t)},postRegister:function(t){return x.a.post("".concat(j.produccion,"/registro/registroNotificacion"),t)},registerNotificacion:function(t){return x.a.post("".concat(j.produccion,"/registro/registroNotificacion"),t)}},B=(a("99af"),{getNotificaciones:function(t){return x.a.get("".concat(j.produccion,"/consulta/consultaNotificaciones/").concat(t))},registerNotificacion:function(t){return x.a.post("".concat(j.produccion,"/registro/registroNotificacion"),t)}}),O={components:{QrcodeStream:k["QrcodeStream"]},computed:Object(E["a"])(Object(E["a"])({title:function(){return this.isLoader?"Procesando código Qr...":this.isQrActive?"Escanea el código Qr":"Marcar Asistencia"}},Object(S["b"])({empleado_dni:function(t){return t.user.empleado_dni},empleado_all_name:function(t){return t.user.empleado_nombre+" "+t.user.empleado_apellido}})),{},{menus:function(){return[{title:"Ingreso",imagenSrc:"ingreso_marcatition.jpg",tipo:"Ingreso",body:"El trabajador ".concat(this.empleado_all_name," acaba de marcar su Ingreso")},{title:"Salida",imagenSrc:"salida_marcation.jpg",tipo:"Retiro",body:"El trabajador ".concat(this.empleado_all_name," acaba de marcar su Salida")},{title:"Refrigerio",imagenSrc:"LunchTime.jpg",tipo:"Refrigerio",body:"El trabajador ".concat(this.empleado_all_name," acaba de marcar su Refrigerio")},{title:"Retorno",imagenSrc:"Retorno_Work.png",tipo:"Retorno de refrigerio",body:"El trabajador ".concat(this.empleado_all_name," acaba de marcar su Retorno")}]}}),data:function(){return{isQrActive:!1,menu:""}},methods:{onDecode:function(t){console.log(t),this.decodedString=t,t?this.registrarMarcacion():(this.$emit("isQrActive",!1),this.isQrActive=!1,this.$emit("sendMensaje","No se encontró el código"))},openToCamera:function(t){this.isQrActive=!0,this.$emit("isQrActive",!0),this.menu=t},registrarMarcacion:function(){var t=this;this.$emit("loaded",!0),navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(a){var n,o,r,i,s,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(a),n=(new Date).toJSON(),o=a.coords,r=o.latitude,i=o.longitude,e.prev=3,e.next=6,R.registrarMarcacion({idTelefono:t.empleado_dni,dni:t.empleado_dni,latitud:"".concat(r),longitud:"".concat(i),dataQr:"".concat(t.decodedString),fechahora:n,tipo:t.menu.tipo,motivo:t.menu.tipo,temperatura:0});case 6:return s=e.sent,e.next=9,B.registerNotificacion({fechahora:n,latitud:"".concat(r),longitud:"".concat(i),titulo:t.menu.title,cuerpo:t.menu.body,idTelefono:t.empleado_dni});case 9:c=e.sent,console.log(c,s),t.$emit("sendMensaje","Se marcó con éxito"),e.next=17;break;case 14:e.prev=14,e.t0=e["catch"](3),t.$emit("sendMensaje",e.t0);case 17:t.$emit("loaded",!1),t.$emit("isQrActive",!1),t.isQrActive=!1;case 20:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(t){return e.apply(this,arguments)}}(),(function(e){switch(e.code){case e.PERMISSION_DENIED:t.$emit("sendMensaje","No se ha permitido el acceso a la posición del usuario.");break;case e.POSITION_UNAVAILABLE:t.$emit("sendMensaje","No se ha podido acceder a la información de su posición.");break;case e.TIMEOUT:t.$emit("sendMensaje","El servicio ha tardado demasiado tiempo en responder.");break;default:t.$emit("sendMensaje","Error desconocido.")}}))},onInit:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return console.log("error"),a.prev=1,a.next=4,t;case 4:a.next=12;break;case 6:a.prev=6,a.t0=a["catch"](1),console.log(a.t0),e.$emit("isQrActive",!1),e.isQrActive=!1,"NotAllowedError"===a.t0.name?e.$emit("sendMensaje","ERROR: necesita conceder permiso de acceso a la cámara."):"NotFoundError"===a.t0.name?(e.$emit("sendMensaje","ERROR: necesita conceder permiso de acceso a la cámara."),e.error="ERROR: no camera on this device"):"NotSupportedError"===a.t0.name?e.$emit("sendMensaje","ERROR: Se requiere un contexto seguro (HTTPS, localhost)."):"NotReadableError"===a.t0.name?e.$emit("sendMensaje","ERROR:¿La cámara ya está en uso?"):"OverconstrainedError"===a.t0.name?e.$emit("sendMensaje","ERROR: las cámaras instaladas no son adecuadas."):"StreamApiNotSupportedError"===a.t0.name&&e.$emit("sendMensaje","ERROR: Stream API no es compatible con este navegador.");case 12:case"end":return a.stop()}}),a,null,[[1,6]])})))()}}},T=O,I=Object(s["a"])(T,w,C,!1,null,"7134d02b",null),y=I.exports,M=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"AppNavBottom grid grid-cols-3 "},[a("router-link",{staticClass:"mt-1",attrs:{to:"/"}},[a("span",{staticClass:"block mt-2"},[t._v("🏠")]),a("span",[t._v("Marcar Ingreso")])]),a("router-link",{staticClass:"mt-1",attrs:{to:"/Reportes"}},[a("span",{staticClass:"block mt-2"},[t._v("📄")]),a("span",[t._v("Reportes")])]),a("router-link",{staticClass:"mt-1",attrs:{to:"/Notificaciones"}},[a("span",{staticClass:"block mt-2"},[t._v("🔔")]),a("span",[t._v("Notificaciones")])])],1)},P=[],F={},L=F,Q=(a("f304"),Object(s["a"])(L,M,P,!1,null,"e2e210fa",null)),U=Q.exports,H={components:{AppNav:b,AppNavBottom:U,MenuMarcacion:y},computed:{title:function(){return this.isLoad?"Procesando código Qr...":this.isQrActive?"Escanea el código Qr":"Marcar Asistencia"}},data:function(){return{mensaje:"",isLoad:!1,isQrActive:!1}},methods:{sendMensaje:function(t){var e=this;this.mensaje=t,setTimeout((function(){e.mensaje=""}),6e3)},loaded:function(t){this.isLoad=t},isQrActiveChange:function(t){this.isQrActive=t}}},D=H,Y=(a("059f"),Object(s["a"])(D,p,m,!1,null,"77ddd50c",null)),V=Y.exports,z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:" container"},[a("h1",{staticClass:"text-white text-3xl font-semibold pt-20"},[t._v(t._s(t.tittle))]),a("FormLogin"),t._m(0)],1)},G=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"grid grid-cols-2 gap-2 mt-16"},[a("p",{staticClass:"block text-white text-sm mb-2 mt-8 text-right"},[t._v(" ¿Eres nuevo? ")]),a("a",{staticClass:"block text-white text-sm font-bold mb-2 mt-8 text-left",attrs:{href:""}},[t._v(" Registrates")])])}],q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("form",{staticClass:"pt-12",on:{submit:function(e){return e.preventDefault(),t.login(e)}}},[a("div",{staticClass:" px-16 mx-auto grid"},[a("label",{staticClass:"block text-white text-sm font-bold mb-2 text-left ",attrs:{for:"username"}},[t._v(" Email ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"shadow appearance-none border w-full rounded py-3 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",attrs:{id:"username",type:"email",placeholder:"Email",name:"correo"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),a("div",{staticClass:" px-16 mx-auto grid"},[a("label",{staticClass:"block text-white text-sm font-bold mb-2 mt-8 text-left",attrs:{for:"password"}},[t._v(" Contraseña ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"shadow appearance-none border rounded w-full py-3 px-3 text-gray-700 mb-3 focus:outline-none focus:shadow-outline",attrs:{id:"password",type:"password",name:"password",placeholder:"******************"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),a("a",{staticClass:"text-white text-sm fotn-bold text-right mt-1",attrs:{href:"/"}},[t._v("Olvidó su contraseña?")])]),a("div",{staticClass:"px-16 mx-auto grid"},[t.loading?a("div",{staticClass:"preloader py-3 mt-12"}):a("button",{staticClass:"bg-white hover:bg-gray-100 text-green-500 font-bold  py-3 rounded-full mt-12 mb-2"},[t._v(" INGRESAR ")])]),a("p",[t._v(t._s(t.error))])])},J=[],K={notCompleted:"Falta completar datos",passwordNotEqual:"Las Contraseñas no coinciden"},X={data:function(){return{email:"",password:"",error:null,loading:!1}},methods:{login:function(){var t=this;""!==this.email&&""!==this.password?(this.loading=!0,this.error="",this.$store.dispatch("login",{correo:this.email,password:this.password}).then((function(){t.loading=!1,t.$router.push({name:"Home"})})).catch((function(e){t.loading=!1,console.log("user data is",e),t.error=e}))):this.error=K.notCompleted}}},$=X,Z=(a("002b"),Object(s["a"])($,q,J,!1,null,"04055e45",null)),W=Z.exports,tt={components:{FormLogin:W},data:function(){return{tittle:"Tower & Tower S.A."}}},et=tt,at=(a("ecdb"),Object(s["a"])(et,z,G,!1,null,"32689b10",null)),nt=at.exports,ot=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container "},[a("AppNav",{attrs:{titlePage:t.title}}),a("AppNavBottom")],1)},rt=[],it={components:{AppNav:b,AppNavBottom:U},data:function(){return{title:"Reportes"}}},st=it,ct=(a("e79a"),Object(s["a"])(st,ot,rt,!1,null,"102e5992",null)),ut=ct.exports,lt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container"},[n("AppNav",{attrs:{titlePage:t.title,isBack:t.isItemSelected},on:{onBack:t.onBack}}),n("div",{staticClass:"box-relleno"}),t.isItemSelected?n("div",{staticClass:"container_notify"},[n("img",{staticClass:"mensaje",attrs:{src:a("573e"),alt:"mensaje"}}),n("div",[n("p",{staticClass:"text-2xl"},[t._v("Fecha: "+t._s(t.getFormatFecha(t.notificacionSelected.fecha_notification)))]),n("p",{staticClass:"text-2xl"},[t._v("Hora: "+t._s(t.getFormatTime))])]),n("NotificacionCard",{staticClass:"my-3",attrs:{data:t.notificacionSelected}}),n("a",{attrs:{href:t.getLinkMap,target:"_blank"}},[t._v("Ir a Maps "),n("img",{attrs:{src:a("4d66"),alt:""}})])],1):n("RecycleScroller",{staticClass:"scroller",attrs:{items:t.list,"item-size":14,pageMode:!0,"key-field":"fecha_notification"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.item;return[n("NotificacionRow",{attrs:{data:a},on:{onClick:t.onClick}},[t._v(" "+t._s(a.titulo_notification)+" / "+t._s(t.getFormatFecha(a.fecha_notification))+" ")])]}}])}),t.isItemSelected?t._e():n("AppNavBottom")],1)},dt=[],pt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"notificacion-card",on:{click:t.onClick}},[n("img",{staticClass:"icono",attrs:{src:a("5524"),alt:"carta"}}),n("p",{staticClass:"font-semibold parrafo"},[t._t("default")],2),n("img",{staticClass:"icono",attrs:{src:a("85cb"),alt:"flecha next"}})])},mt=[],ft={props:{data:Object},methods:{onClick:function(){this.$emit("onClick",this.data)}}},gt=ft,At=(a("8cf8"),Object(s["a"])(gt,pt,mt,!1,null,"f86e6d88",null)),ht=At.exports,vt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"notificacion-card"},[a("h2",{staticClass:"font-semibold parrafo"},[t._v("Título")]),a("p",{staticClass:"parrafo"},[t._v(" "+t._s(t.data.titulo_notification)+" ")]),a("h2",{staticClass:"font-semibold parrafo"},[t._v("Cuerpo")]),a("p",{staticClass:"parrafo"},[t._v(" "+t._s(t.data.cuerpo_notification)+" ")])])},bt=[],wt={props:{data:Object}},Ct=wt,Et=(a("0154"),Object(s["a"])(Ct,vt,bt,!1,null,"6b318e46",null)),St=Et.exports,kt=a("e508");a("1276");function _t(t){if(t){var e=new Date(t),a=e.toLocaleTimeString().split(":")[0],n=e.toLocaleTimeString().split(":")[1],o=e.toLocaleTimeString().split(" ")[1];return o||(o=""),"".concat(a,":").concat(n," ").concat(o)}return"00:00"}function xt(t){if(t){var e=new Date(t);return"".concat(e.getDate(),"-").concat(e.getMonth()+1,"-").concat(e.getFullYear())}return"0-0-0"}var jt={components:{AppNav:b,AppNavBottom:U,RecycleScroller:kt["a"],NotificacionCard:St,NotificacionRow:ht},data:function(){return{isItemSelected:!1,notificacionSelected:{},title:"Historial de Notificaciones",list:[]}},created:function(){this.getNotificaciones()},computed:Object(E["a"])(Object(E["a"])({},Object(S["b"])({empleado_dni:function(t){return t.user.empleado_dni}})),{},{getFormatTime:function(){return _t(this.notificacionSelected.fecha_notification)},getLinkMap:function(){var t=this.notificacionSelected,e=t.latitud_notification,a=t.longtitud_notification;return"https://www.google.es/maps/@".concat(e,",").concat(a,",15z")}}),methods:{getFormatFecha:function(t){return xt(t)},onClick:function(t){this.notificacionSelected=t,this.isItemSelected=!0,this.title=t.titulo_notification},onBack:function(){this.notificacionSelected={},this.isItemSelected=!1,this.title="Historial de Notificaciones"},getNotificaciones:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,B.getNotificaciones(t.empleado_dni);case 2:a=e.sent,t.list=a.data.reverse();case 4:case"end":return e.stop()}}),e)})))()}}},Nt=jt,Rt=(a("c8ad"),Object(s["a"])(Nt,lt,dt,!1,null,"c28311c6",null)),Bt=Rt.exports;o["a"].use(d["a"]);var Ot=[{path:"/",name:"Home",component:V,meta:{requiresAuth:!0}},{path:"/Reportes",name:"Reportes",component:ut,meta:{requiresAuth:!0}},{path:"/Notificaciones",name:"Notificaciones",component:Bt,meta:{requiresAuth:!0}},{path:"/login",name:"LoginPage",component:nt,meta:{notRequiresAuth:!0}},{path:"/about",name:"About",component:function(){return a.e("about").then(a.bind(null,"f820"))}}],Tt=new d["a"]({base:"/towerandtower/",routes:Ot,scrollBehavior:function(t,e,a){return a||{x:0,y:0}}}),It=Tt;Tt.beforeEach((function(t,e,a){var n=localStorage.getItem("usuario");!t.matched.some((function(t){return t.meta.requiresAuth}))||n?t.matched.some((function(t){return t.meta.notRequiresAuth}))&&n?a("/"):a():a("/login")}));var yt={postLogin:function(t){return N.post("/Usuario/login",t)},postRegister:function(t){return N.post("/Usuario/registrarUsuario",t)},postRegisterEmpresa:function(t){return N.post("/Usuario/registrarEmpresa",t)},postRegistrarToken:function(t,e){return N.post("/registrartoken",{token:t,id:e})},postRefrescarToken:function(t){return N.post("/refrescartoken",t)}};o["a"].use(S["a"]);var Mt=new S["a"].Store({state:{user:{tipoUsuarioId:-1},timeToken:new Date(localStorage.getItem("timeToken"))},mutations:{SET_USER_DATA:function(t,e){t.user=e.datos,x.a.defaults.headers.common["Authorization"]="".concat(e.token)},SET_TIME_TOKEN_DATA:function(t,e){e||(e=new Date,localStorage.setItem("timeToken",e.toJSON())),t.timeToken=e},LOGOUT:function(){localStorage.clear(),location.reload()}},actions:{logout:function(t){var e=t.commit;e("LOGOUT")},login:function(t,e){return Object(n["a"])(regeneratorRuntime.mark((function a(){var n,o,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=t.commit,a.next=3,yt.postLogin(e);case 3:if(o=a.sent,console.log(o),!o.data.datos){a.next=11;break}n("SET_USER_DATA",o.data),localStorage.setItem("usuario",JSON.stringify(o.data)),n("SET_TIME_TOKEN_DATA"),a.next=12;break;case 11:throw o.data.Status;case 12:r=o.data.datos,yt.postRegistrarToken(o.data.token,r.usuarioId);case 14:case"end":return a.stop()}}),a)})))()}},modules:{}}),Pt=a("8103"),Ft=a.n(Pt),Lt=a("bba4"),Qt=a.n(Lt);o["a"].config.productionTip=!1;var Ut=a("ef13");Ut.keys().forEach((function(t){var e=Ut(t),a=Ft()(Qt()(t.replace(/^\.\/(.*)\.\w+$/,"$1")));o["a"].component(a,e.default||e)}));var Ht=354e4;new o["a"]({router:It,store:Mt,render:function(t){return t(l)},created:function(){var t=this,e=localStorage.getItem("usuario"),a=localStorage.getItem("timeToken");if(e){var o=JSON.parse(e);this.$store.commit("SET_USER_DATA",o)}if(a){var r=new Date(a);this.$store.commit("SET_TIME_TOKEN_DATA",r)}x.a.interceptors.request.use(function(){var a=Object(n["a"])(regeneratorRuntime.mark((function a(n){var o,r,i,s,c,u;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(console.log(n),o=t.$store.state.timeToken,r=new Date,!(r-o>=Ht&&x.a.defaults.headers.common["Authorization"])){a.next=10;break}return i=x.a.defaults.headers.common["Authorization"],a.next=7,yt.postRefrescarToken({token:i});case 7:s=a.sent,c=s.data,c.newtoken&&(t.$store.commit("SET_TIME_TOKEN_DATA"),x.a.defaults.headers.common["Authorization"]="".concat(c.newtoken),u=JSON.parse(e),u.token=c.newtoken,localStorage.setItem("usuario",JSON.stringify(u)),yt.postRegistrarToken(c.newtoken,c.id));case 10:return a.abrupt("return",n);case 11:case"end":return a.stop()}}),a)})));return function(t){return a.apply(this,arguments)}}()),x.a.interceptors.response.use((function(e){return"Autenticación fallida!"===e.data.message&&!1===e.data.success?(t.$store.dispatch("logout"),Promise.reject(e.data.message)):e}),(function(e){return(401===e.response.status&&e.config&&!e.config.__isRetryRequest||403===e.response.status)&&t.$store.dispatch("logout"),Promise.reject(e)}))}}).$mount("#app")},"573e":function(t,e,a){t.exports=a.p+"img/message.5446c495.png"},5911:function(t,e,a){t.exports=a.p+"img/waiting.a2e48b74.jpg"},5985:function(t,e,a){},"5b53":function(t,e,a){},"5c0b":function(t,e,a){"use strict";var n=a("9c0c"),o=a.n(n);o.a},6505:function(t,e,a){t.exports=a.p+"img/old-men.4487cedb.png"},6596:function(t,e,a){},"787e":function(t,e,a){},"7ac4":function(t,e,a){t.exports=a.p+"img/ingreso_marcatition.8e5ed76a.jpg"},8258:function(t,e,a){},"83bf":function(t,e,a){t.exports=a.p+"img/facebook.e78b8801.jpg"},"85cb":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAApgAAAKYB3X3/OAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAF6SURBVEiJtdaxShxRFMbx/3dntQ4RBTFYGRELG5t1TSGOBIu0VnmOPFLwBQKZFRUFBe1EJC5kXEaImyaKpLDY3ZljsfXunTs4p53L94Nzz7mMzIw6y9Wa7gP0dNPS89W72gDM9smjY/3/9b4eoIi+MnQfebFD/amGTARsdvWMnF1yLSGO9NCZCQVUZop032khS5C6OGJbWHl8UwBAd50WUgJ06VtsK+WQ0gCA0nQDKxIgw4htefnfmwIAuk2bYG0gIzIvEgwA6Dpt4tQG7pnOtychlTbZ1pYuKKLPDLXIS+NIJyeNcWfHfvDWAEDeY9VadJk1gVGLGv1tWx/fovBLPs+ayLUxyxhMx7Y1P/GSg1qk04cNFI3GtJjyhgcBOu6Nthl1KRRbPF9q0UoBOui1cCSY6+Istnih9FPhHVP97G1SKCHXXWi4F9CPv5/IXcJQKeTB4eBr0TD6Dvxm0N+xLx+eQsP9QK5vRFMHtjf3XCUcKi5aSNX+V/EKJRKnXCAtz3UAAAAASUVORK5CYII="},"8b4b":function(t,e,a){t.exports=a.p+"img/comprobacion_temperatura.3960e9ad.jpg"},"8cf8":function(t,e,a){"use strict";var n=a("a639"),o=a.n(n);o.a},"8ece":function(t,e,a){},"9c0c":function(t,e,a){},"9d2b":function(t,e,a){t.exports=a.p+"img/woman.330b0116.png"},a639:function(t,e,a){},ac92:function(t,e,a){},b19f:function(t,e,a){},b9a7:function(t,e,a){t.exports=a.p+"img/white-women.e5465f9e.png"},c52b:function(t,e,a){t.exports=a.p+"img/Retorno_Work.140e6402.png"},c860:function(t,e,a){},c8ad:function(t,e,a){"use strict";var n=a("6596"),o=a.n(n);o.a},c998:function(t,e,a){t.exports=a.p+"img/salida_marcation.8eccbea7.jpg"},ca59:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAaCAYAAABozQZiAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACtSURBVHgB1ZThCYMwEIXPTuAIHcFRukE7QjeoG9gN2g06QkZwhHQD3eA8MeIjv+5FEPwgiJDvEXLhVUKiqlf7BGExsbEVdSGy4pDE3lbtFR8gBlZc+YgX29yC2JWKr0PEd6n4BfHuleo0Ak0jocQexEa84HOjROOS/Y/CsOvYEIAXdhOWolFlAR0EtMIyv6zzBzwhwF8GEIBt8lNvDUFAWQFmATEFhEpIdCv9/wQ6g3mK+gfwowAAAABJRU5ErkJggg=="},cee8:function(t,e,a){t.exports=a.p+"img/nigga-women.cd8865e9.png"},cf05:function(t,e,a){t.exports=a.p+"img/logo.25843d63.png"},d201:function(t,e,a){},d663:function(t,e,a){t.exports=a.p+"img/men.1b0a9fcf.png"},deeb:function(t,e,a){t.exports=a.p+"img/gil-men.5b98e000.png"},e79a:function(t,e,a){"use strict";var n=a("5b53"),o=a.n(n);o.a},e9be:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"neumorphic-card",on:{click:t.goToCamera}},[n("div",[n("div",{staticClass:"neumorphic-card__outer"},[n("img",{staticClass:"neumorphic-image",attrs:{src:a("1771")("./"+t.menu.imagenSrc)}})]),n("div",{staticClass:"neumorphic-card__title"},[t._v(t._s(t.menu.title))])])])},o=[],r={props:{menu:{type:Object}},methods:{goToCamera:function(){this.$emit("openToCamera",this.menu)}},name:"BaseCardMarcar"},i=r,s=(a("4ffa"),a("2877")),c=Object(s["a"])(i,n,o,!1,null,"f15d4600",null);e["default"]=c.exports},ecdb:function(t,e,a){"use strict";var n=a("d201"),o=a.n(n);o.a},ef13:function(t,e,a){var n={"./BaseCardMarcar.vue":"e9be"};function o(t){var e=r(t);return a(e)}function r(t){if(!a.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}o.keys=function(){return Object.keys(n)},o.resolve=r,t.exports=o,o.id="ef13"},f304:function(t,e,a){"use strict";var n=a("787e"),o=a.n(n);o.a},fe7a:function(t,e,a){t.exports=a.p+"img/LunchTime.069f8db8.jpg"}});
//# sourceMappingURL=app.e1a7fb2f.js.map